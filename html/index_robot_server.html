<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AlphaBot</title>
	<link href="/bootstrap.min.css" rel="stylesheet" media="screen">
	<script src="/jquery-3.6.0.min.js"></script>
	<script src="/popper.min.js"></script>
	<script src="/bootstrap.min.js"></script> 
    <script> 
		
        $(function(){
			// tooltip init
			var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
			var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
				return new bootstrap.Tooltip(tooltipTriggerEl)
			});
			// -- tooltip init

			// tab
			$('#myTab a').click( function (e) {
				e.preventDefault()
				$(this).tab('show')
			});
			// -- tab1
            
			$('input[type=range]').change( function(){
				var id = this.id
				$('#' + id + '_desc').html( $(this).val() )
            });

			$(".cmd").click( function(){
				var val = $( this ).attr( 'val' )
				if( val == null || val == '' ) { 
					val = $(this).val();
				}

				cmd = $(this).attr( 'cmd' ) 
				if( cmd == null || cmd == '' ) {
					cmd = this.id
				}

                $.post("/cmd",{ cmd: cmd, val: val }, function(data,status){
                });
            });

			$( "#line_camera-tab" ).click()
        });
		
    </script>

	<style type="text/css">
    </style>
	
</head>

<body>

<div id="container" class="container text-center" >
	<br/>
	<h4>Vision Controlled Ai Robot v1.0</h4>

	<div class="container" class="text-center">
		<div class="row">
			<div class="col">
				<img src="{{ url_for('video') }}" width="640" height="480"/>
			</div>
		</div>
	</div>

	<br/>

	<ul class="nav nav-tabs justify-content-center" id="myTab" role="tablist">
		<li class="nav-item">
			<a class="nav-link active" id="motor-tab" data-toggle="tab" href="#motor" role="tab" aria-controls="motor" aria-selected="false">Motor</a>
		</li> 
		&nbsp;&nbsp;&nbsp;
		<div class="btn-group">
			<button type="button" class="btn-sm btn-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
				메뉴
			</button>
			<ul class="dropdown-menu">
				<li><hr class="dropdown-divider"></li>
				<li><a id="shutdown" class="cmd dropdown-item"> 젯슨 나노 셧다운 </a></li>
			</ul>
		</div>
	</ul>

	<br/>
				
	<div class="tab-content " id="myTabContent">
		<div class="tab-pane fade show active" id="motor" role="tabpanel" aria-labelledby="motor-tab" align="center">
			<!-- # motor -->
			<table class="text-center" >
				<colgroup>
					<col width="56px" />
					<col width="56px" />
					<col width="56px" />
				</colgroup>
				<thead>
					<tr>
						<td colspan="100%" >
							<h6 class="text-center text-nowrap">Motor Control</h6>
						</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>&nbsp;</td>
						<td>
							<button id="forward" class="cmd btn btn-lg btn-primary">&uuarr;</button>
						</td>
						<td>&nbsp;</td>
					</tr>
					<tr>
						<td>
							<button id='turn_left' class="cmd btn btn-lg btn-primary">&llarr;</button>
						</td>
						<td>
							<button id='stop' class="cmd btn btn-lg btn-danger">Stop</button>
						</td>
						<td>
							<button id='turn_right' class="cmd btn btn-lg btn-primary">&rrarr;</button>
						</td>
					</tr>
					<tr>
						<td>&nbsp;</td>
						<td>
							<button id='backward' class="cmd btn btn-lg btn-primary">&ddarr;</button>
						</td>
						<td>&nbsp;</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td colspan="100%">
							<br/>
							<h6>Speed : <span id="min_speed_desc"> {{ min_speed }} </span></h6>
							<input id="min_speed" type="range" class="cmd form-label" min="5" max="70" value="{{ min_speed }}" style="margin:-10px; width:100%; "  >
						</td>
					</tr>
				</tfoot>
			</table> 
			<!-- # motor -->
		</div>

		<br/>
		<br/>
	</div>

</div>

</body>
</html>
